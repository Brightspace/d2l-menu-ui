<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
		<link rel="stylesheet" href="/node_modules/@brightspace-ui/core/components/demo/styles.css" type="text/css">
		<title>d2l-menu (template based) demo</title>
		<script src="../../@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
		<script type="module" src="../../@polymer/iron-demo-helpers/demo-snippet.js"></script>
		<script type="module">
			import '/node_modules/@brightspace-ui/core/components/demo/demo-page.js';
			import '../d2l-menu.js';
			import '../d2l-menu-item.js';
		</script>
	</head>
	<body unresolved>
		<d2l-demo-page>
			<h3>Template-Based Menu</h3>
			<d2l-demo-snippet>
				<template>
					<d2l-menu label="Astronomy" style="max-width: 400px;">
						<dom-repeat id="repeat_template_v2">
							<template id="repeat_template_v1" is="dom-repeat">
								<d2l-menu-item text="{{item.text}}">
									<template is="dom-if" if="{{item.menuItems}}">
										<d2l-menu label="{{item.text}}">
											<template is="dom-repeat" items="{{item.menuItems}}">
												<d2l-menu-item text="{{item.text}}"></d2l-menu-item>
											</template>
										</d2l-menu>
									</template>
								</d2l-menu-item>
							</template>
						</dom-repeat>
					</d2l-menu>
				</template>
			</d2l-demo-snippet>
		</d2l-demo-page>

		<script type="module">
			const menuItems = [
				{text: 'Introduction'},
				{text: 'Searching the Heavens'},
				{text: 'The Solar System', menuItems: [
					{text: 'Formation'},
					{text: 'Modern Solar System'},
					{text: 'Future Solar System'},
					{text: 'The Planets'}
				]},
				{text: 'Stars & Galaxies'},
				{text: 'The Night Sky'},
				{text: 'The Universe'}
			];
			requestAnimationFrame(function() {
				document.getElementById('repeat_template_v2').items = menuItems;
			});
			// eslint-disable-next-line no-console
			console.log('menuItems (json)', menuItems);
		</script>
	</body>
</html>
